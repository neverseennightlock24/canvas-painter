<!DOCTYPE html>
<html>

<head>
    <title>Random Walker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scrollbars */
        }
        canvas {
            display: block; /* Remove extra space below the canvas */
        }
    </style>
</head>

<body>
    <script>
        let xPos, yPos; // Position of the square
        let stepX, stepY; // Direction of movement
        let hitBorder = false; // Flag to track if the square hit the border
        let squareSize = 10; // Size of the square

        // Define specific colors
        const colors = [
            [255, 255, 255], // White
            [0, 127, 255], // Azure Blue
            [255, 0, 0], // Red
            [0, 255, 0], // Green
            [255, 215, 0], // Gold
            [192, 192, 192], // Silver
            [255, 165, 0], // Orange
            [128, 0, 128] // Purple
        ];

        let squareColor = colors[0]; // Initial color of the square

        function setup() {
            createCanvas(windowWidth, windowHeight);
            xPos = windowWidth / 2;
            yPos = windowHeight / 2;
            stepX = 1;
            stepY = 0;
            noStroke(); // Remove the stroke border of the square
            background(0); // Set the background to black
        }

        function draw() {
            // Move the square
            xPos += stepX * squareSize;
            yPos += stepY * squareSize;

            // Reduce step counter
            // This is to control the delay between changing directions
            // and it will always keep the square from overlapping itself
            if (!hitBorder) {
                stepX = floor(random(-1, 2));
                stepY = floor(random(-1, 2));
            }

            // Check if the square moves beyond the canvas size and reset the position to the center
            if (xPos < 0 || xPos > width || yPos < 0 || yPos > height) {
                xPos = width / 2;
                yPos = height / 2;
                hitBorder = true; // Set the flag to true when hitting the border

                // Change the color and direction when hitting the border
                squareColor = random(colors); // Choose a random color from the array
                stepX = floor(random(-1, 2));
                stepY = floor(random(-1, 2));
            } else {
                hitBorder = false; // Reset the flag when not hitting the border
            }

            // Draw the square with the current fill color
            fill(squareColor[0], squareColor[1], squareColor[2]);
            rect(xPos, yPos, squareSize, squareSize);
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
            xPos = windowWidth / 2;
            yPos = windowHeight / 2;
            background(0); // Reset the background to black
        }
    </script>
</body>

</html>
